CREATE OR REPLACE VIEW V_PRODUCT AS
SELECT
  P.ROW_ID,
  MENU_ID,
  M.MENU_NAME,
  PRO_CODE,
  PRO_NAME,
  PRO_PATH,
  OLD_PRICE,
  NEW_PRICE,
  PRO_COUNT,
  IS_NEW,
  IS_LINE,
  PRO_INFO,
  P.ACTIVE_FLAG,
  P.CREATE_BY,
  P.CREATE_DATE,
  P.UPDATE_BY,
  P.UPDATE_DATE
FROM
  TB_PRODUCT P
  LEFT JOIN TB_MENU M
    ON P.MENU_ID = M.ROW_ID
    
#收藏试题    
CREATE VIEW V_WISH AS
SELECT
  W.ROW_ID,
  W.USER_CODE,
  P.PRO_CODE,
  P.PRO_NAME,
  P.PRO_PATH,
  P.OLD_PRICE,
  P.NEW_PRICE,
  P.PRO_COUNT,
  P.IS_NEW,
  P.IS_LINE,
  W.ACTIVE_FLAG,
  W.CREATE_BY,
  W.CREATE_DATE
FROM
  TB_WISH W
  LEFT JOIN TB_PRODUCT P
    ON W.PRO_CODE = P.PRO_CODE;

#购物车
CREATE VIEW V_CART AS
SELECT
  C.ROW_ID,
  C.USER_CODE,
  C.PRODUCT_ID,
  P.PRO_CODE,
  P.PRO_NAME,
  P.PRO_PATH,
  P.OLD_PRICE,
  P.NEW_PRICE,
  C.ORDER_COUNT,
  C.ACTIVE_FLAG,
  C.CREATE_BY,
  C.CREATE_DATE,
  C.UPDATE_BY,
  C.UPDATE_DATE
FROM
  TB_CART C
  LEFT JOIN TB_PRODUCT P
    ON C.PRODUCT_ID = P.ROW_ID
#订单明细详情
CREATE OR REPLACE VIEW V_ORDER_DETAIL AS
SELECT
  D.ROW_ID,
  D.ORDER_ID,
  D.PRODUCT_ID,
  P.PRO_NAME,
  P.NEW_PRICE,
  P.PRO_PATH,
  D.ORDER_COUNT,
  D.SUM_PRICE,
  D.ACTIVE_FLAG,
  D.CREATE_BY,
  D.CREATE_DATE,
  D.UPDATE_BY,
  D.UPDATE_DATE
FROM
  TB_ORDER_DETAIL D
  LEFT JOIN TB_PRODUCT P
    ON D.PRODUCT_ID = P.ROW_ID
